import os
import shutil

BASE = r"C:\Users\SSAFY\Desktop\first_repo\gitp"

NEW_DIRS = ["BFS", "DFS_백트래킹", "완전탐색_시뮬레이션", "자료구조", "스택_큐", "그리디", "DP", "재귀", "기타"]
for d in NEW_DIRS:
    os.makedirs(os.path.join(BASE, d), exist_ok=True)

def move(src, dst_dir):
    src_path = os.path.join(BASE, src)
    if os.path.exists(src_path):
        dst_path = os.path.join(BASE, dst_dir, os.path.basename(src_path))
        shutil.move(src_path, dst_path)
        print(f"OK: {os.path.basename(src_path)} -> {dst_dir}/")
    else:
        print(f"SKIP: {src}")

# ── BFS ──────────────────────────────────────────────────────────────────
for f in [
    r"SWEA\bfs\1210사다리 탐색쉬운bfs,단락평가로 애매한거 뒤로넘기기.py",
    r"SWEA\bfs\1231트리의 bfs 중위순회 핵심.py",
    r"SWEA\bfs\1232후위순회bfs.py",
    r"SWEA\bfs\트리bfs 기초.py",
    r"A형 전용\75693차원 bfs 큐이용.py",
]:
    move(f, "BFS")

# ── DFS & 백트래킹 ───────────────────────────────────────────────────────
for f in [
    r"SWEA\dfs\21684dfs랑 stack.py",
    r"SWEA\dfs\토르미노.py",
    r"A형 전용\2667dfs백트래킹 핵심.py",
    r"A형 전용\2606dfs그래프노드연결.py",
    r"A형 전용\2644dfs에서의 실패하고 돌아올때 중복개수 방지.py",
    r"SWEA\스택&재귀\1219스택을 사용한 딕셔너리(키에서 벨류 다시 키값으로 이어지는 로직) dfs.py",
    r"SWEA\스택&재귀\21655재귀dfs.py",
]:
    move(f, "DFS_백트래킹")

# ── 완전탐색 & 시뮬레이션 ────────────────────────────────────────────────
for f in [
    r"IM전용\10157달팽이 방향조절주의 벽만나면 방향바꾸기, 그리고 임의로 배열 바꿔생각해보ᄀ.py",
    r"IM전용\1057전부 구현할 필요없이 묻는 부분만 간소화 해서 구현.py",
    r"IM전용\10762동시탐색 및 여유시간.py",
    r"IM전용\11315델타탐색 전범위+flag로 for문 탈출.py",
    r"IM전용\2304V자탐색.py",
    r"IM전용\2477ㄱ에서 빼야할 가로세로 규칙.py",
    r"IM전용\26059러시아국기 같이 범위설정하기안정해진 범위를 미리 결정하고, 결정했다는 ᄌ 2.py",
    r"IM전용\2805다이아몬드 범위 탐색 멘하튼 거리.py",
    r"IM전용\4613범위를 나누는경우 .py",
    r"IM전용\6190단조증가 문자열 자리수 비교.py",
    r"IM전용\21701.py",
    r"SWEA\자료구조\1954심화된 조건이 있는 델타탐색 .py",
    r"SWEA\자료구조\1974열과 행을 번갈아보면서 보는 방법.py",
    r"SWEA\자료구조\2001최대 파리수와 파리채의 숫자 더하는 방법.py",
    r"SWEA\자료구조\21700델타탐색에서 범위설정과 최소 최대값 설정시 넉넉한 값 설정.py",
    r"SWEA\자료구조\21704연속성가지는델타탐색2.py",
    r"SWEA\자료구조\21862 심화2차원배열 문제 .py",
    r"SWEA\자료구조\21889연속성가지는델타탐색.py",
    r"SWEA\자료구조\23812막힐때까지 반복은 while 델타탐색.py",
    r"SWEA\자료구조\24781델타탐색과 최대값 안정화.py",
    r"SWEA\자료구조\5656.py",
]:
    move(f, "완전탐색_시뮬레이션")

# ── 자료구조 ─────────────────────────────────────────────────────────────
for f in [
    r"백준\자료구조\1차원 배열\11800if순서주의.py",
    r"백준\자료구조\1차원 배열\1264while사용해서 받자마자 조건 출력.py",
    r"백준\자료구조\1차원 배열\1284.py",
    r"백준\자료구조\1차원 배열\2037.py",
    r"백준\자료구조\1차원 배열\2520.py",
    r"백준\자료구조\1차원 배열\2차원 배열\2563bj이차원배열.py",
    r"백준\자료구조\1차원 배열\2차원 배열\2566리스트 만들어서 넣어줘야 문제없고,최댓값 기본값을 -1로 설정.py",
    r"SWEA\자료구조\10804join이용해서 붙여서 나오게하기, 문자열 역으로 받기 슬라이싱.py",
    r"SWEA\자료구조\1206조망권 인덱스 문제.py",
    r"SWEA\자료구조\1208sort로 최대최소 정렬가능.py",
    r"SWEA\자료구조\1209대각선초기화리스트.py",
    r"SWEA\자료구조\1221딕셔너리 키와 벨류 전환.py",
    r"SWEA\자료구조\1945while의 조건 ~일때 루프시작임.py",
    r"SWEA\자료구조\1989회문 돌리기,슬라이싱.py",
    r"SWEA\자료구조\21445메모리 스택관리 sys제외한 strip().py",
    r"SWEA\자료구조\21464 블랙리스트의 list하나를 set로 바꿔서 효율화.py",
    r"SWEA\자료구조\21852리스트 한번만 훑어서 끝내는 투포인터 핵심 .py",
    r"SWEA\자료구조\23418슬라이딩 윈도우+시작점 결정+회문+전치행렬.py",
    r"SWEA\자료구조\24180슬라이딩윈도우 인덱스 활용법.py",
    r"SWEA\자료구조\24771차분계산개념.py",
    r"SWEA\자료구조\4861회문.py",
    r"SWEA\자료구조\4865딕셔너리 기본키값 for로 받기, 딕셔너리 벨류값에+=1.py",
    r"SWEA\자료구조\6485애스터리스크와 리스트 미리 정해주기.py",
    r"일반 백준 무작위\10039bj평균점수.py",
    r"일반 백준 무작위\10808bj.py",
    r"일반 백준 무작위\10816bj.py",
    r"일반 백준 무작위\10871bj작은수.py",
    r"일반 백준 무작위\14425bj.py",
    r"일반 백준 무작위\16157슬라이딩윈도우 기본.py",
    r"일반 백준 무작위\2562.py",
    r"일반 백준 무작위\5637bj긴단어.py",
    r"IM전용\2628슬라이딩윈도우 쓰는것처럼 max,min최대최소값 구해서 곱하기.py",
    r"IM전용\21936슬라이딩윈도우.py",
    r"IM전용\3499리스트 슬라이싱.py",
]:
    move(f, "자료구조")

# ── 스택 & 큐 ────────────────────────────────────────────────────────────
for f in [
    r"SWEA\스택&재귀\1218.py",
    r"SWEA\스택&재귀\1222후위표기식.py",
    r"SWEA\스택&재귀\1223후위표기식2.py",
    r"SWEA\스택&재귀\1234스택의 정석.py",
    r"백준\자료구조\스택\10828.py",
    r"IM전용\14555쇠막대기5432하위호환.py",
    r"IM전용\5432쇠막대기 자르기.py",
    r"SWEA\자료구조\5432중첩 스택사용해서 구현+ 행위까지 구현하지 않고 결과만 구현해도됨.py",
    r"온라인 실습\while과pop.py",
]:
    move(f, "스택_큐")

# ── 그리디 ───────────────────────────────────────────────────────────────
for f in [
    r"백준\그리디\10162그리디탐욕시간초과 미친문제.py",
    r"SWEA\자료구조\21940그리디의 탐색방법.py",
    r"IM전용\12890,1변환 그리디탐색.py",
]:
    move(f, "그리디")

# ── DP ───────────────────────────────────────────────────────────────────
for f in [
    r"백준\자료구조\재귀호출\DP\15624극한까지 메모리관리해야하는 재귀호출dp.py",
    r"SWEA\스택&재귀\2005재귀dp사용가능.py",
]:
    move(f, "DP")

# ── 재귀 ─────────────────────────────────────────────────────────────────
for f in [
    r"백준\자료구조\재귀호출\일반재귀\10829재귀함수이용.py",
    r"백준\자료구조\재귀호출\일반재귀\10872재귀팩토리얼.py",
    r"백준\자료구조\재귀호출\일반재귀\25501재귀함수이용 재귀.py",
    r"SWEA\스택&재귀\21686일반재귀.py",
]:
    move(f, "재귀")

# ── 기타 (SSAFY 기초실습, 프로젝트, 웹 등) ──────────────────────────────
for f in [
    r"온라인 실습\1440.py",
    r"온라인 실습\1442bubblesorted.py",
    r"온라인 실습\1443변수할당 및 split.py",
    r"온라인 실습\1444range시작끝순서pop주의.py",
    r"온라인 실습\1445.py",
    r"온라인 실습\1446.py",
    r"온라인 실습\1459.py",
    r"온라인 실습\1460.py",
    r"온라인 실습\1466.py",
    r"온라인 실습\1467.py",
    r"온라인 실습\1468.py",
    r"온라인 실습\1680.py",
    r"온라인 실습\1681.py",
    r"온라인 실습\1682.py",
    r"온라인 실습\1683.py",
    r"온라인 실습\1684.py",
    r"온라인 실습\1690.py",
    r"온라인 실습\2217.py",
    r"온라인 실습\2218.py",
    r"온라인 실습\2995.py",
    r"온라인 실습\2996.py",
    r"온라인 실습\2997.py",
    r"ssafy 프로젝트\PJT01.py",
    r"ssafy 프로젝트\PJT02.py",
    r"ssafy시험\test01.py",
    r"ssafy시험\test02.py",
    r"ssafy시험\test03.py",
    r"ssafy시험\test04.py",
    r"web\index.html",
    r"web\style.css",
    r"복습.py",
    r"스터디용.py",
    r"연습장1.py",
    r"수업.md",
]:
    move(f, "기타")

# ── 빈 디렉토리 삭제 ─────────────────────────────────────────────────────
for root, dirs, files in os.walk(BASE, topdown=False):
    for d in dirs:
        full = os.path.join(root, d)
        # 새로 만든 폴더는 건드리지 않음
        rel = os.path.relpath(full, BASE)
        if rel.split(os.sep)[0] in NEW_DIRS:
            continue
        try:
            if not os.listdir(full):
                os.rmdir(full)
                print(f"삭제(빈폴더): {rel}")
        except Exception as e:
            print(f"삭제실패: {rel} ({e})")

print("\n=== 완료 ===")
